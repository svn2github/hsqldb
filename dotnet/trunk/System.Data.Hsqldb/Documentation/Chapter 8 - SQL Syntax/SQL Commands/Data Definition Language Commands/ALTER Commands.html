<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:mshelp="http://msdn.microsoft.com/mshelp">
<head>
    <link rel="stylesheet" type="text/css" href="../../../styles/presentation.css">
    <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css">
</head>
<body>
    <div id="control">
        <table border="0" width="100%" cellpadding="0" cellspacing="0">
            <tr>
                <td align="center" valign="top" style="padding-right: 10px">
                    <img alt="HSQLDB Logo" src="../../../html/hsqldb.gif">
                </td>
                <td valign="top" width="100%">
                    <span class="productTitle"><@HtmlEncHelpTitle/></span>
                    <br>
                    <span class="topicTitle">Chapter 8 - SQL Syntax</span>
                    <br>
                    <div id="toolbar">
                        <span id="chickenFeet"><a href="../../Chapter 8 - SQL Syntax.html">Chapter Overview</a>
                            &gt; <a href="../SQL Commands.html">SQL Commands</a> &gt; <a href="Data Definition Language Commands.html">
                                Data Definition Language Commands</a> &gt; <span class="nolink">ALTER Commands</span>
                        </span>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div id="main">
        <h3>
            ALTER INDEX</h3>
        <pre lang="sql">ALTER INDEX &lt;indexname&gt; RENAME TO &lt;newname&gt;;
        </pre>
        <p>
            <strong class="nb">Requires administrative privileges.</strong></p>
        <p>
            Allows an index name to be changed so long as the new name does not conflict with
            other user-defined or system-defined index names found in the same schema.</p>
        <h3>
            <a name="alter_sequence-section"></a>ALTER SEQUENCE</h3>
        <pre lang="sql">ALTER SEQUENCE &lt;sequencename&gt; RESTART WITH &lt;value&gt;;
        </pre>
        <p>
            <strong class="nb">Requires administrative privileges.</strong></p>
        <p>
            Assigns the next value to be returned from the indicated sequence object.</p>
        <h3>
            ALTER SCHEMA</h3>
        <pre lang="sql">ALTER SCHEMA &lt;schemaname&gt; RENAME TO &lt;newname&gt;;
        </pre>
        <p>
            <strong style="color: Orange;">Requires administrative privileges</strong>.</p>
        <p>
            Renames schema as specified. All objects of the schema will hereafter be accessible
            only with the new schema name.</p>
        <h3>
            ALTER TABLE</h3>
        <p>
            <strong><span style="color: #ffa500">Requires administrative privileges</span></strong>.</p>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt;
  ADD [COLUMN] &lt;columnname&gt; &lt;datatype&gt;[(columnSize[,precision])]
      [{DEFAULT &lt;defaultValue&gt; |
      GENERATED BY DEFAULT AS IDENTITY (START WITH &lt;n&gt;[, INCREMENT BY &lt;m&gt;])}] |
      [[NOT] NULL] [IDENTITY] [PRIMARY KEY]
      [BEFORE &lt;existingcolumn&gt;];
        </pre>
        <p>
            Adds the column to the end of the column list. The optional BEFORE &lt;existingcolumn&gt;
            can be used to specify the name of an existing column so that the new column is
            inserted in a position just before the &lt;existingcolumn&gt;.</p>
        <p>
            It accepts a <a href="#columnDef-entry">columnDefinition</a> as in a <tt>CREATE TABLE</tt>
            command. If <tt>NOT NULL</tt> is specified and the table is not empty, then a default
            value must be specified. In all other respects, this command is equivalent to a
            column definition statement in a <tt>CREATE TABLE</tt> statement.</p>
        <p>
            If an SQL view includes a <tt>SELECT * FROM &lt;tablename&gt;</tt> in its select
            statement, the new column is added to the view. This is a non-standard feature which
            is likely to change in the future.</p>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt; DROP [COLUMN] &lt;columnname&gt;;
        </pre>
        <p>
            Drops the column from the table. Will consequently drop any single-column primary
            key or unique constraint on the column as well, but will fail if the column is a
            member of any multiple key constraint or is referenced by a check constraint, foreign
            key constraint or view.</p>
        <pre lang="sql"> ALTER TABLE &lt;tablename&gt; 
 ALTER COLUMN &lt;columnname&gt;
RENAME TO &lt;newname&gt;;
        </pre>
        <p>
            Changes a column name.</p>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt;
ALTER COLUMN &lt;columnname&gt; 
  SET DEFAULT &lt;defaultvalue&gt;};
        </pre>
        <p>
            Assigns the specified default value to the column. Use NULL to effectively remove
            an existing non-NULL column default.</p>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt;
ALTER COLUMN &lt;columnname&gt; 
  SET [NOT] NULL
        </pre>
        <p>
            creates or removes a <tt>NOT NULL</tt> constraint for the column; NOT NULL requires
            that existing data satisfies the contraint.</p>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt;
ALTER COLUMN &lt;columnDefinition&gt;;
        </pre>
        <p>
            This form of <tt>ALTER TABLE ALTER COLUMN</tt> accepts a <a href="#columnDef-entry">
                columnDefinition</a> as in a <tt>CREATE TABLE</tt> command, with the following
            restrictions.</p>
        <div class="itemizedlist">
            <p>
                <strong>Restrictions</strong></p>
            <ul type="disc">
                <li>to accept an IDENTITY clause, the column referenced in the <em>&lt;columnDefinition&gt;
                </em>must be be the sole primary key column. </li>
                <li>The resulting column IDENTITY, DEFAULT and NOT NULL attributes are those expressed
                    explicitly in <em>&lt;columnDefinition&gt;</em>, meaning existing IDENTITY, DEFAULT
                    and NOT NULL attributes are dropped by omission from <em>&lt;columnDefinition&gt;</em>.
                </li>
                <li>To successfully alter a column, the target table <em>may</em> have to be emptied
                    or updated to contain, apriori, only data that is already compatible with the alteration,
                    e.g. when NOT NULL is specified, a non-NULL DEFAULT is not specified and there are
                    existing rows for which the column value is NULL. In general, however, when the
                    requested change is otherwise syntactically correct and semantically consistent,
                    a best effort is made to convert existing values. </li>
            </ul>
        </div>
        <pre lang="sql">  ALTER TABLE &lt;tablename&gt;
  ALTER COLUMN &lt;columnname&gt; 
RESTART WITH &lt;new sequence value&gt;;
        </pre>
        <p>
            To be used exclusively for IDENTITY columns; assigns the next automatic value for
            internal sequence generator backing the IDENTITY column.</p>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt;
  ADD [CONSTRAINT &lt;constraintname&gt;]
CHECK (&lt;search condition&gt;);
        </pre>
        <p>
            Adds a check constraint to the table.
        </p>
        <p>
            Fails if there is a pre-existing check constraint with the same name in the schema
            containing the target table.</p>
        <p>
            In the current implementation, a check constraint expression may reference only
            the values of columns in the single row being inserted or updated; aggregate expressions
            and general queries, etc., are prohibited at this time.</p>
        <pre lang="sql"> ALTER TABLE &lt;tablename&gt; 
   ADD [CONSTRAINT &lt;constraintname&gt;]
UNIQUE (&lt;column list&gt;);
        </pre>
        <p>
            Adds a unique constraint to the table.
        </p>
        <p>
            Fails if:</p>
        <ul>
            <li>there is a pre-existing unique constraint with the same name in the schema containing
                the target table.</li>
            <li>there is a pre-existing unique constraint with the identical &lt;column list&gt;
                on that target table. </li>
            <li>the new constraint is not satisfied by existing data, i.e. there exists a group
                over the &lt;column list&gt; for which no column value is null and the group cardinality
                is greater than one.</li>
        </ul>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt;
        ADD [CONSTRAINT &lt;constraintname&gt;]
PRIMARY KEY (&lt;column list&gt;);
        </pre>
        <p>
            Adds a primary key constraint to the target table.</p>
        <p>
            Fails if:</p>
        <ul>
            <li>there is a pre-existing primary key constraint with the same name in the schema
                containing the target table.</li>
            <li>there is a pre-existing primary key constraint on the target table itself.</li>
            <li>the new constraint is not satisfied by existing data, i.e. there exists a group
                over the &lt;column list&gt; for which a column value is null or the group cardinality
                is greater than one.</li>
        </ul>
        <p>
            <pre lang="sql">
ALTER TABLE &lt;tablename&gt;
        ADD [CONSTRAINT &lt;constraintname&gt;] FOREIGN KEY (&lt;column list&gt;)
 REFERENCES &lt;exptablename&gt; (&lt;column list&gt;)
        [ON {DELETE | UPDATE} {CASCADE | SET DEFAULT | SET NULL}];
            </pre>
        </p>
        <p>
            Adds a foreign key constraint to the table.</p>
        <p>
            This will fail if the new contraint is not satisfied by the existing data, i.e.
            there exists at least one existing row in the referring table for which a matching
            row (with equal values for the column list) is not found in the referenced table.</p>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt;
 DROP CONSTRAINT &lt;constraintname&gt;;
        </pre>
        <p>
            Drops a named unique, check or foreign key constraint from the table.</p>
        <pre lang="sql">ALTER TABLE &lt;tablename&gt; RENAME TO &lt;newname&gt;;</pre>
        <h3>
            <a name="alter_user-section"></a>ALTER USER</h3>
        <pre lang="sql">ALTER USER &lt;username&gt; SET PASSWORD &lt;delimited password&gt;;
        </pre>
        <p>
            <strong class="nb">Requires administrative privileges</strong>.</p>
        <p>
            Changes the password for an existing user.</p>
        <p>
            Password must be delimited using double quote characters ["].
        </p>
        <p>
            Use "" to denote the empty password.</p>
    </div>
    <include item="footer" />
</body>
</html>
<!-- @SortOrder 2 -->
