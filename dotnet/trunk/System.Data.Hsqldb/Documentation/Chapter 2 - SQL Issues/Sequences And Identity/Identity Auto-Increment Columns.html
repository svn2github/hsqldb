<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:mshelp="http://msdn.microsoft.com/mshelp">
<head>
    <link rel="stylesheet" type="text/css" href="../../styles/presentation.css">
    <link rel="stylesheet" type="text/css" href="ms-help://Hx/HxRuntime/HxLink.css">
</head>
<body>
    <div id="control">
        <table border="0" width="100%" cellpadding="0" cellspacing="0">
            <tr>
                <td align="center" valign="top" style="padding-right: 10px">
                    <img alt="HSQLDB Logo" src="../../html/hsqldb.gif"></td>
                <td valign="top" width="100%">
                    <span class="productTitle"><@HtmlEncHelpTitle/></span>
                    <br>
                    <span class="topicTitle">Chapter 2 - SQL Issues</span>
                    <br>
                    <div id="toolbar">
                        <span id="chickenFeet"><a href="../Chapter 2 - SQL Issues.html">Chapter Overview </a>
                            &gt; <a href="Sequences And Identity.html">Sequences And Identity </a>&gt; <span
                                class="nolink">Identity Auto-Increment Columns</span> </span>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div id="main">
        <p>
            An HSQLDB <tt>IDENTITY</tt> column is an <tt>INTEGER</tt> or <tt>BIGINT</tt> column
            with its default value generated by an internal sequence generator.</p>
        <p>
            The create syntax is</p>
        <pre lang="sql">    (&lt;colname&gt; [INTEGER | BIGINT]
     GENERATED BY DEFAULT AS IDENTITY(
         START WITH n, [INCREMENT BY m])
         PRIMARY KEY, ...)
         </pre>
        <p>
            A present (historical) limitation is that a table may contain only one auto-increment
            column, known as the <tt>IDENTITY</tt> column, which is treated implicitly as the
            primary key for the table.</p>
        <p>
            For this reason, <tt>IDENTITY</tt> columns and multi-column primary keys cannot
            presently co-exist (although this limitation may be eliminated in a future release)</p>
        <div class="alert">
            <h3 class="title">
                Note</h3>
            <p>
                HSQLDB <tt>IDENTITY</tt> columns presently <em>always</em> accept the <tt>NULL</tt>
                value, which results in an auto-generated value for the column.</p>
            <p>
                The <tt>IDENTITY()</tt> SQL function returns the last value inserted into any <tt>IDENTITY</tt>
                column within the current SQL session.</p>
            <p>
                Issue <tt>CALL IDENTITY();</tt> as an SQL statement to retrieve this value.</p>
            <p>
                To use the value for a field in a child table:</p>
            <pre lang="sql">    INSERT INTO &lt;childtable&gt; VALUES (...,IDENTITY(),...);
        </pre>
            <p>
                Both types of <tt>IDENTITY()</tt> invocation must be made before any subsequent
                update or insert statements are issued on the database.</p>
            <p>
                The next <tt>IDENTITY</tt> value to be used can be set like this:</p>
            <pre lang="sql">    ALTER TABLE &lt;table-name&gt; ALTER COLUMN &lt;column name&gt; RESTART WITH &lt;new value&gt;;
        </pre>
        </div>
        <div id="footer">
            <div class="footerLine">
                <img alt="footer.gif" width="100%" height="3px" src="../../icons/footer.gif" title="Footer image" />
            </div>
            <include item="footer" />
        </div>
    </div>
</body>
</html>
<!-- @SortOrder 1 -->
