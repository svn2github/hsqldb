<html>
<head><title>HSQLDB Code Switcher</title></head>
<body bgcolor=#FFFFFF>
<h3>hsqldb version 1.7.0 CodeSwitcher</h3>

<h4>Code Switcher</h4>
CodeSwitcher is a tool to manage different version of Java source code. It helps 
to compile hsqldb for different JDKs, and to switch between debug and runtime 
version. It is something like a precompiler in C and C++, but it works directly 
on the source code and does not create intermediate output and does not create 
other files. 
<p>
It is possible to use the Code Switcher in batch operations where multiple 
versions of an application are built. CodeSwitcher is (of course) a Java application.
<p>CodeSwitcher is used internally in HSQLDB build scripts. You do not have to use it separately to compile hsqldb.
<p>
CodeSwitcher reads the source code of a file, remove comments where appropriate
and comment blocks that are not used for this version. This operation is
done for all files of a defined directory, and all subdirectories.
<p>
This is an example source code before CodeSwitcher is used:
<p>
<pre><code>
      ...
//#ifdef JAVA2
      pProperties.store(out,"hsqldb database");
//#else
/*
      pProperties.save(out,"hsqldb database");
*/
//#endif
      ...
</code></pre>
<p>
The next step is to run CodeSwitcher. This is done using a command line:
<p> <code>java org.hsqldb.util.CodeSwitcher . -JAVA2</code> 
<p>
The '.' means the program works on the current directory (all subdirectories
are processes recursivly). '-JAVA2' means the code labeled with JAVA2
must be switched off. And this is how the source code looks after 
CodeSwitcher has processed this file:
<p>
<pre><code>
      ...
//#ifdef JAVA2
/*
      pProperties.store(out,"hsqldb database");
*/
//#else
      pProperties.save(out,"hsqldb database");
//#endif
      ...
</code></pre>
<p> For detailed information on the command line options run 'java org.hsqldb.util.CodeSwitcher'. 
</body></html>
